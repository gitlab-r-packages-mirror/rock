<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add one or more codes to one or more sources — code_source • rock</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add one or more codes to one or more sources — code_source" />
<meta property="og:description" content="These functions add codes to one or more
sources that were read with one of the
loading_sources functions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rock</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction_to_rock.html">Introduction to the Reproducible Open Coding Kit (ROCK)</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://gitlab.com/r-packages/rock/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add one or more codes to one or more sources</h1>
    <small class="dont-index">Source: <a href='https://gitlab.com/r-packages/rock/blob/master/R/code_source.R'><code>R/code_source.R</code></a>, <a href='https://gitlab.com/r-packages/rock/blob/master/R/code_sources.R'><code>R/code_sources.R</code></a></small>
    <div class="hidden name"><code>coding_sources.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These functions add codes to one or more
sources that were read with one of the
<code>loading_sources</code> functions.</p>
    </div>

    <pre class="usage"><span class='fu'>code_source</span><span class='op'>(</span>
  <span class='va'>input</span>,
  <span class='va'>codes</span>,
  indices <span class='op'>=</span> <span class='cn'>NULL</span>,
  output <span class='op'>=</span> <span class='cn'>NULL</span>,
  preventOverwriting <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"preventOverwriting"</span><span class='op'>)</span>,
  rlWarn <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='va'>rlWarn</span><span class='op'>)</span>,
  encoding <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"encoding"</span><span class='op'>)</span>,
  silent <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"silent"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='fu'>code_sources</span><span class='op'>(</span>
  <span class='va'>input</span>,
  <span class='va'>codes</span>,
  output <span class='op'>=</span> <span class='cn'>NULL</span>,
  indices <span class='op'>=</span> <span class='cn'>NULL</span>,
  outputPrefix <span class='op'>=</span> <span class='st'>""</span>,
  outputSuffix <span class='op'>=</span> <span class='st'>"_coded"</span>,
  recursive <span class='op'>=</span> <span class='cn'>TRUE</span>,
  filenameRegex <span class='op'>=</span> <span class='st'>".*"</span>,
  preventOverwriting <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"preventOverwriting"</span><span class='op'>)</span>,
  encoding <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"encoding"</span><span class='op'>)</span>,
  silent <span class='op'>=</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='va'><a href='opts.html'>opts</a></span><span class='op'>$</span><span class='fu'>get</span><span class='op'>(</span><span class='st'>"silent"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>input</th>
      <td><p>The source, or list of sources, as
produced by one of the <code>loading_sources</code> functions.</p></td>
    </tr>
    <tr>
      <th>codes</th>
      <td><p>A named character vector, where each element
is the code to be added to the matching utterance, and
the corresponding name is either an utterance identifier
(in which case the utterance with that identifier will be
coded with that code), a code (in which case all utterances
with that code will be coded with the new code as well), a
digit (in which case the utterance at that line number in
the source will be coded with that
code), or a regular expression, in which case all utterances
matching that regular expression will be coded with that
source. If specifying an utterance ID or code, make sure
that the code delimiters are included (normally, two square
brackets).</p></td>
    </tr>
    <tr>
      <th>indices</th>
      <td><p>If <code>input</code> is a source as loaded by
<code>loading_sources</code>, <code>indices</code> can be used to pass a logical
vector of the same length as <code>input</code>
that indicates to which utterance the code in <code>codes</code> should be
applied. Note that if <code>indices</code> is provided, only the first
element of <code>codes</code> is used, and its name is ignored.</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>If specified, the coded source will be written here.</p></td>
    </tr>
    <tr>
      <th>preventOverwriting</th>
      <td><p>Whether to prevent overwriting existing files.</p></td>
    </tr>
    <tr>
      <th>rlWarn</th>
      <td><p>Whether to let <code><a href='https://rdrr.io/r/base/readLines.html'>readLines()</a></code> warn, e.g. if files do not end
with a newline character.</p></td>
    </tr>
    <tr>
      <th>encoding</th>
      <td><p>The encoding to use.</p></td>
    </tr>
    <tr>
      <th>silent</th>
      <td><p>Whether to be chatty or quiet.</p></td>
    </tr>
    <tr>
      <th>outputPrefix, outputSuffix</th>
      <td><p>A prefix and/or suffix to prepend and/or
append to the filenames to distinguish them from the input filenames.</p></td>
    </tr>
    <tr>
      <th>recursive</th>
      <td><p>Whether to also read files from all subdirectories
of the <code>input</code> directory</p></td>
    </tr>
    <tr>
      <th>filenameRegex</th>
      <td><p>Only input files matching this patterns will be read.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly, the coded source object.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### Get path to example source</span>
<span class='va'>examplePath</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, package<span class='op'>=</span><span class='st'>"rock"</span><span class='op'>)</span>;

<span class='co'>### Get a path to one example file</span>
<span class='va'>exampleFile</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>examplePath</span>, <span class='st'>"example-1.rock"</span><span class='op'>)</span>;

<span class='co'>### Parse single example source</span>
<span class='va'>loadedExample</span> <span class='op'>&lt;-</span> <span class='fu'>rock</span><span class='fu'>::</span><span class='fu'><a href='load_source.html'>load_source</a></span><span class='op'>(</span><span class='va'>exampleFile</span><span class='op'>)</span>;

<span class='co'>### Show line 71</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>loadedExample</span><span class='op'>[</span><span class='fl'>71</span><span class='op'>]</span><span class='op'>)</span>;
</div><div class='output co'>#&gt; The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for</div><div class='input'>
<span class='co'>### Specify the rules to code all utterances</span>
<span class='co'>### containing "Ipsum" with the code 'ipsum' and</span>
<span class='co'>### all utterances containing the code</span>
<span class='va'>codeSpecs</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"(?i)ipsum"</span> <span class='op'>=</span> <span class='st'>"ipsum"</span>,
    <span class='st'>"BC|AD|\\d\\d\\d\\ds"</span> <span class='op'>=</span> <span class='st'>"timeRef"</span><span class='op'>)</span>;

<span class='co'>### Apply rules</span>
<span class='va'>codedExample</span> <span class='op'>&lt;-</span> <span class='fu'>code_source</span><span class='op'>(</span><span class='va'>loadedExample</span>,
                            <span class='va'>codeSpecs</span><span class='op'>)</span>;

<span class='co'>### Show line 71</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>codedExample</span><span class='op'>[</span><span class='fl'>71</span><span class='op'>]</span><span class='op'>)</span>;
</div><div class='output co'>#&gt; The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for [[timeRef]]</div><div class='input'>
<span class='co'>### Also add code "foo" to utterances with code 'ipsum'</span>
<span class='va'>moreCodedExample</span> <span class='op'>&lt;-</span> <span class='fu'>code_source</span><span class='op'>(</span><span class='va'>codedExample</span>,
                                <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"[[ipsum]]"</span> <span class='op'>=</span> <span class='st'>"foo"</span><span class='op'>)</span><span class='op'>)</span>;

<span class='co'>### Show line 71</span>
<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>moreCodedExample</span><span class='op'>[</span><span class='fl'>71</span><span class='op'>]</span><span class='op'>)</span>;
</div><div class='output co'>#&gt; The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for [[timeRef]]</div><div class='input'>
<span class='co'>### Use the 'indices' argument to add the code 'bar' to</span>
<span class='co'>### line 71</span>
<span class='va'>overCodedExample</span> <span class='op'>&lt;-</span> <span class='fu'>code_source</span><span class='op'>(</span><span class='va'>moreCodedExample</span>,
                                <span class='st'>"bar"</span>,
                                indices<span class='op'>=</span><span class='fl'>71</span><span class='op'>)</span>;

<span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>overCodedExample</span><span class='op'>[</span><span class='fl'>71</span><span class='op'>]</span><span class='op'>)</span>;
</div><div class='output co'>#&gt; The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for [[timeRef]] [[bar]]</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gjalt-Jorn Ygram Peters.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


